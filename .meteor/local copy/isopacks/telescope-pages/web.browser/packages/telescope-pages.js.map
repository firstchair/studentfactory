{"version":3,"sources":["telescope-pages/lib/pages.js","telescope-pages/lib/client/routes.js","telescope-pages/lib/client/templates/page.html","telescope-pages/lib/client/templates/page_item.html","telescope-pages/lib/client/templates/page_item.js","telescope-pages/lib/client/templates/pages.html","telescope-pages/lib/client/templates/pages.js","telescope-pages/lib/client/templates/pages_menu.html","telescope-pages/lib/client/templates/pages_menu.js","telescope-pages//Users/lukasfeitsma/Documents/Studie/CMD/Jaar2/Blok4/Project-X/studentfactory/packages/telescope-pages/i18n/en.i18n.json"],"names":[],"mappings":";;;;;;;;AAAA,W;;AAEA,iC;AACA,U;AACA,gB;AACA,I;AACA,S;AACA,iB;AACA,kB;AACA,I;AACA,Y;AACA,iB;AACA,e;AACA,c;AACA,K;AACA,I;AACA,U;AACA,iB;AACA,kB;AACA,G;AACA,G;;AAEA,kD;AACA,4C;;AAEA,uD;AACA,+C;AACA,gB;AACA,kC;AACA,G;;AAEA,iB;AACA,wB;AACA,U;AACA,G;;AAEA,gB;AACA,wB;AACA,U;AACA,G;;AAEA,4B;AACA,0B;AACA,wB;AACA,wB;AACA,uB;AACA,K;;AAEA,kB;AACA,iD;AACA,oE;AACA,K;AACA,K;AACA,G;;;;;;;;;;;;;;;;;;;ACrDA,gB;AACA,iB;AACA,iB;AACA,oC;AACA,G;;AAEA,mC;;AAEA,yC;AACA,yB;AACA,oE;AACA,I;AACA,qB;AACA,8D;AACA,G;AACA,G;;AAEA,4B;;AAEA,oE;;AAEA,+B;AACA,iB;AACA,8B;AACA,K;;AAEA,0B;AACA,kB;AACA,+B;AACA,K;;AAEA,G;;;;;;;;;;;;;;;;;;;;AC9BA,6B;AACA,8D;AACA,kB;AACA,oB;AACA,yB;AACA,4C;AACA,oD;AACA,yB;AACA,kC;AACA,yB;AACA,8E;AACA,oD;AACA,wD;AACA,O;AACA,gB;AACA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfA,iC;AACA,sE;AACA,kB;AACA,mB;AACA,0B;AACA,+C;AACA,Y;AACA,qD;AACA,gD;AACA,qC;AACA,4C;AACA,qD;AACA,oD;AACA,sD;AACA,M;AACA,iB;AACA,+D;AACA,wE;AACA,I;;;;;;;;;;;;;;;;;;;ACnBA,4B;AACA,6C;AACA,yB;AACA,oC;AACA,K;AACA,K;;AAEA,4C;AACA,gD;AACA,yB;AACA,oC;AACA,mD;AACA,O;AACA,K;AACA,K;AACA,G;;;;;;;;;;;;;;;;;;;;ACdA,8B;AACA,gE;AACA,kB;AACA,qB;AACA,iC;AACA,6F;AACA,Y;AACA,qD;AACA,2C;AACA,qC;AACA,qD;AACA,oD;AACA,sD;AACA,M;AACA,iB;AACA,+D;AACA,8C;AACA,gD;AACA,iB;AACA,uD;AACA,c;AACA,yD;AACA,Q;AACA,mB;AACA,2C;AACA,kD;AACA,S;AACA,iB;AACA,O;AACA,I;;;;;;;;;;;;;;;;;;;AC9BA,4B;AACA,0C;AACA,sB;AACA,2D;AACA,M;AACA,2B;AACA,qC;AACA,K;AACA,K;AACA,G;;;;;;;;;;;;;;;;;;;;ACRA,kC;AACA,wE;AACA,kB;AACA,8B;AACA,mD;AACA,iB;AACA,iC;AACA,4C;AACA,0C;AACA,kD;AACA,mB;AACA,qC;AACA,0B;AACA,0E;AACA,yB;AACA,c;AACA,S;AACA,gD;AACA,wD;AACA,wB;AACA,4B;AACA,K;AACA,I;;;;;;;;;;;;;;;;;;;ACvBA,4C;AACA,yB;AACA,0C;AACA,I;AACA,sB;AACA,mC;AACA,G;AACA,E;;;;;;;;;;;;;;;;;;ACPA,6B;AACA,6B;AACA,0B;;AAEA,gC;AACA,yD;AACA,C;AACA,+G;AACA,sD;AACA,gD;AACA,kB;AACA,8E;AACA,gD","file":"/packages/telescope-pages.js","sourcesContent":["Pages = {};\n\nPages.schema = new SimpleSchema({\n  title: {\n    type: String\n  },\n  slug: {\n    type: String,\n    optional: true\n  },\n  content: {\n    type: String,\n    autoform: {\n      rows: 10\n    }\n  },\n  order: {\n    type: Number,\n    optional: true\n  }\n});\n\nPages.collection = new Meteor.Collection('pages');\nPages.collection.attachSchema(Pages.schema);\n\nPages.collection.before.insert(function (userId, doc) {\n  // if no slug has been provided, generate one\n  if (!doc.slug)\n    doc.slug = slugify(doc.title);\n});\n\nprimaryNav.push({\n  template: \"pagesMenu\",\n  order: 5\n});\n\nmobileNav.push({\n  template: 'pagesMenu',\n  order: 5\n});\n\nMeteor.startup(function () {\n  Pages.collection.allow({\n    insert: isAdminById,\n    update: isAdminById,\n    remove: isAdminById\n  });\n\n  Meteor.methods({\n    insertPage: function(pageTitle, pageContent){\n      return Feeds.insert({title: pageTitle, content: pageContent});\n    }\n  });\n});\n","adminMenu.push({\n  route: 'pages',\n  label: 'Pages',\n  description: 'manage_static_pages'\n});\n\npreloadSubscriptions.push('pages');\n\nPageController = RouteController.extend({\n  getTitle: function () {\n    return Pages.collection.findOne({slug: this.params.slug}).title;\n  },\n  data: function () {\n    return Pages.collection.findOne({slug: this.params.slug});\n  }\n});\n\nMeteor.startup(function () {\n\n  Router.onBeforeAction(Router._filters.isAdmin, {only: ['pages']});\n\n  Router.route('/page/:slug', {\n    name: 'page',\n    controller: PageController\n  });\n\n  Router.route('/pages', {\n    name: 'pages',\n    controller: AdminController\n  });\n\n});\n","\nTemplate.__checkName(\"page\");\nTemplate[\"page\"] = new Template(\"Template.page\", (function() {\n  var view = this;\n  return [ HTML.H2({\n    \"class\": \"page-title\"\n  }, Blaze.View(\"lookup:title\", function() {\n    return Spacebars.mustache(view.lookup(\"title\"));\n  })), \"\\n  \", HTML.DIV({\n    \"class\": \"page-body markdown\",\n    \"aria-live\": \"polite\"\n  }, \"\\n    \", Spacebars.include(view.lookupTemplate(\"markdown\"), function() {\n    return Blaze.View(\"lookup:content\", function() {\n      return Spacebars.mustache(view.lookup(\"content\"));\n    });\n  }), \"\\n  \") ];\n}));\n","\nTemplate.__checkName(\"pageItem\");\nTemplate[\"pageItem\"] = new Template(\"Template.pageItem\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"form-module\"\n  }, \"\\n    \", Blaze._TemplateWith(function() {\n    return {\n      collection: Spacebars.call(\"Pages.collection\"),\n      id: Spacebars.call(view.lookup(\"formId\")),\n      type: Spacebars.call(\"update\"),\n      doc: Spacebars.call(view.lookup(\".\")),\n      \"label-class\": Spacebars.call(\"control-label\"),\n      \"input-col-class\": Spacebars.call(\"controls\"),\n      template: Spacebars.call(\"bootstrap-horizontal\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"quickForm\"));\n  }), HTML.Raw('\\n    <a href=\"#\" class=\"delete-link\">Delete</a>\\n  '));\n}));\n","Meteor.startup(function () {\n  Template[getTemplate('pageItem')].helpers({\n    formId: function () {\n      return 'updatePage-'+ this._id\n    }\n  });\n\n  Template[getTemplate('pageItem')].events({\n    'click .delete-link': function(e, instance){\n      e.preventDefault();\n      if (confirm(\"Delete page?\")) {\n        Pages.collection.remove(instance.data._id);\n      }\n    }\n  });\n});\n","\nTemplate.__checkName(\"pages\");\nTemplate[\"pages\"] = new Template(\"Template.pages\", (function() {\n  var view = this;\n  return [ HTML.DIV({\n    \"class\": \"form-well add-page\"\n  }, \"\\n    \", HTML.Raw(\"<h3>Add new page:</h3>\"), \"\\n    \", Blaze._TemplateWith(function() {\n    return {\n      collection: Spacebars.call(\"Pages.collection\"),\n      id: Spacebars.call(\"insertPageForm\"),\n      type: Spacebars.call(\"insert\"),\n      \"label-class\": Spacebars.call(\"control-label\"),\n      \"input-col-class\": Spacebars.call(\"controls\"),\n      template: Spacebars.call(\"bootstrap-horizontal\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"quickForm\"));\n  }), \"\\n  \"), \"\\n  \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"pages\"));\n  }, function() {\n    return [ \"\\n    \", Blaze._TemplateWith(function() {\n      return {\n        template: Spacebars.call(view.lookup(\"pageItem\"))\n      };\n    }, function() {\n      return Spacebars.include(function() {\n        return Spacebars.call(Template.__dynamic);\n      });\n    }), \"\\n  \" ];\n  }) ];\n}));\n","Meteor.startup(function () {\n  Template[getTemplate('pages')].helpers({\n    pages: function(){\n      return Pages.collection.find({}, {sort: {order: 1}});\n    },\n    pageItem: function () {\n      return getTemplate('pageItem');\n    }\n  });\n});\n","\nTemplate.__checkName(\"pagesMenu\");\nTemplate[\"pagesMenu\"] = new Template(\"Template.pagesMenu\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"hasPages\"));\n  }, function() {\n    return [ \"\\n    \", HTML.DIV({\n      \"class\": \"header-submodule pages-menu\"\n    }, \"\\n      \", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"pages\"));\n    }, function() {\n      return [ \"\\n        \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), Spacebars.kw({\n            route: \"page\"\n          }));\n        }\n      }, Blaze.View(\"lookup:title\", function() {\n        return Spacebars.mustache(view.lookup(\"title\"));\n      })), \"\\n      \" ];\n    }), \"\\n    \"), \"\\n  \" ];\n  });\n}));\n","Template[getTemplate(\"pagesMenu\")].helpers({\n  hasPages: function () {\n    return Pages.collection.find().count()\n  },\n  pages: function () {\n    return Pages.collection.find();\n  }\n})","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n._enable({\"helper_name\":\"_\",\"supported_languages\":null,\"i18n_files_route\":\"/tap-i18n\",\"cdn_path\":null});\nTAPi18n.languages_names[\"en\"] = [\"English\",\"English\"];\n// integrate the fallback language translations \ntranslations = {};\ntranslations[namespace] = {\"manage_static_pages\":\"Beheer statische pagina's\"};\nTAPi18n._loadLangFileObject(\"en\", translations);\n"]}