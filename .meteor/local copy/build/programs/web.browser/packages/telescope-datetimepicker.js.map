)]}'
{"version":3,"sources":["telescope-datetimepicker/autoform-bs-datetimepicker.html","telescope-datetimepicker/autoform-bs-datetimepicker.js","telescope-datetimepicker/bootstrap-collapse-transitions.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,kD;AACA,wG;AACA,kB;AACA,gC;AACA,iB;AACA,a;AACA,iB;AACA,uD;AACA,M;AACA,I;;;;;;;;;;;;;;;;;;;ACVA,mD;AACA,wC;AACA,yB;AACA,+C;AACA,kD;AACA,+D;AACA,yB;AACA,sD;AACA,K;AACA,I;AACA,oB;AACA,8B;AACA,qF;AACA,M;AACA,mC;AACA,gC;AACA,2D;AACA,O;AACA,iB;AACA,M;AACA,8B;AACA,yD;AACA,M;AACA,mC;AACA,gC;AACA,+B;AACA,O;AACA,iB;AACA,M;AACA,iC;AACA,gC;AACA,qB;AACA,O;AACA,iB;AACA,K;AACA,G;AACA,G;;AAEA,4C;AACA,yC;AACA,oC;AACA,4B;AACA,6D;AACA,kB;AACA,K;AACA,K;;AAEA,2D;AACA,+B;AACA,uB;;AAEA,2B;AACA,qD;;AAEA,qC;AACA,4B;AACA,sC;;AAEA,sB;AACA,qC;AACA,qD;AACA,wD;AACA,gD;AACA,iD;AACA,yE;AACA,K;;AAEA,oD;AACA,mC;AACA,yF;AACA,2C;AACA,sD;AACA,0D;AACA,K;;AAEA,kD;AACA,mC;AACA,yF;AACA,yC;AACA,kD;AACA,wD;AACA,K;AACA,K;;AAEA,E;;AAEA,4D;AACA,0C;AACA,mD;AACA,E;;AAEA,8B;AACA,gC;AACA,6C;AACA,+C;AACA,qD;AACA,2B;AACA,6B;AACA,6B;AACA,kC;AACA,sB;AACA,C;;;;;;;;;;;;;;;;;;;ACrGA,G;AACA,6C;AACA,oC;AACA,6E;AACA,G;;AAEA,G;AACA,wG;AACA,+E;AACA,G;AACA,oC;AACA,4D;AACA,C;AACA,e;AACA,oD;AACA,qG;AACA,sF;AACA,G;AACA,U;;AAEA,2E;AACA,gC;AACA,+C;AACA,2E;AACA,oC;AACA,6E;AACA,8E;;;AAGA,e;AACA,e;;AAEA,qC;AACA,qC;;AAEA,8C;AACA,mC;AACA,iE;AACA,4H;AACA,6B;;AAEA,8B;AACA,qC;AACA,Y;AACA,iE;AACA,K;;AAEA,0C;AACA,G;;AAEA,6B;;AAEA,oC;;AAEA,uB;AACA,iB;AACA,uC;AACA,G;;AAEA,8C;AACA,kD;AACA,wC;AACA,G;;AAEA,yC;AACA,kE;;AAEA,mB;AACA,4F;;AAEA,oC;AACA,+C;AACA,0D;AACA,K;;AAEA,gD;AACA,qC;AACA,+C;;AAEA,oC;AACA,kC;AACA,sD;AACA,K;;AAEA,oC;;AAEA,iB;AACA,8B;AACA,2C;AACA,kC;;AAEA,iB;AACA,+B;AACA,kC;;AAEA,0B;;AAEA,gC;AACA,mB;AACA,kC;AACA,+C;AACA,4B;AACA,mB;AACA,qC;AACA,K;;AAEA,yD;;AAEA,iE;;AAEA,iB;AACA,sD;AACA,kG;AACA,G;;AAEA,yC;AACA,mE;;AAEA,gD;AACA,qC;AACA,+C;;AAEA,oC;;AAEA,wE;;AAEA,iB;AACA,6B;AACA,iC;AACA,mC;;AAEA,iB;AACA,4B;AACA,mC;;AAEA,0B;;AAEA,gC;AACA,4B;AACA,mB;AACA,kC;AACA,6B;AACA,sC;AACA,K;;AAEA,yD;;AAEA,iB;AACA,oB;AACA,sD;AACA,yD;AACA,G;;AAEA,2C;AACA,0D;AACA,G;;AAEA,8C;AACA,iC;AACA,kF;AACA,2C;AACA,iC;AACA,+E;AACA,e;AACA,Y;AACA,G;;AAEA,+E;AACA,wC;;AAEA,0C;AACA,Y;AACA,wC;AACA,oC;AACA,G;;AAEA,2C;AACA,Y;AACA,6C;AACA,8F;;AAEA,oB;AACA,G;;;AAGA,+B;AACA,+B;;AAEA,2B;AACA,kC;AACA,2B;AACA,6C;AACA,sG;;AAEA,6E;AACA,gF;AACA,mD;AACA,M;AACA,G;;AAEA,yB;;AAEA,oC;AACA,sC;;;AAGA,yB;AACA,yB;;AAEA,0C;AACA,uB;AACA,e;AACA,G;;;AAGA,sB;AACA,sB;;AAEA,yF;AACA,yB;;AAEA,sD;;AAEA,6C;AACA,6C;AACA,iF;;AAEA,gC;AACA,I;;AAEA,U;;AAEA,2E;AACA,kC;AACA,kD;AACA,2E;AACA,oC;AACA,6E;AACA,8E;;;AAGA,e;AACA,e;;AAEA,iE;AACA,iE;;AAEA,4B;AACA,gD;;AAEA,8B;AACA,+C;AACA,yC;AACA,yD;AACA,wC;AACA,K;;AAEA,0C;AACA,yC;AACA,gD;AACA,O;AACA,K;;AAEA,4C;AACA,G;;AAEA,+C;AACA,mD;AACA,sB;AACA,kB;AACA,iE;AACA,wF;AACA,kC;AACA,e;AACA,G;;AAEA,iB;AACA,0C;;AAEA,qC;;AAEA,uC;AACA,yC;AACA,6C;AACA,4B;AACA,mF;AACA,O;AACA,K;AACA,I;;AAEA,U","file":"/packages/telescope-datetimepicker.js","sourcesContent":["\nTemplate.__checkName(\"afBootstrapDateTimePicker\");\nTemplate[\"afBootstrapDateTimePicker\"] = new Template(\"Template.afBootstrapDateTimePicker\", (function() {\n  var view = this;\n  return HTML.INPUT(HTML.Attrs({\n    type: \"text\",\n    value: \"\"\n  }, function() {\n    return Spacebars.attrMustache(view.lookup(\"atts\"));\n  }));\n}));\n","AutoForm.addInputType(\"bootstrap-datetimepicker\", {\n  template: \"afBootstrapDateTimePicker\",\n  valueOut: function () {\n    // var val = this.datepicker('getUTCDate');\n    if (!!this.data(\"DateTimePicker\").getDate()) {\n      var val = this.data(\"DateTimePicker\").getDate().toDate();\n      // console.log(val)\n      return (val instanceof Date) ? val : this.val();\n    }\n  },\n  valueConverters: {\n    \"string\": function (val) {\n      return (val instanceof Date) ? AutoForm.Utility.dateToDateStringUTC(val) : val;\n    },\n    \"stringArray\": function (val) {\n      if (val instanceof Date) {\n        return [AutoForm.Utility.dateToDateStringUTC(val)];\n      }\n      return val;\n    },\n    \"number\": function (val) {\n      return (val instanceof Date) ? val.getTime() : val;\n    },\n    \"numberArray\": function (val) {\n      if (val instanceof Date) {\n        return [val.getTime()];\n      }\n      return val;\n    },\n    \"dateArray\": function (val) {\n      if (val instanceof Date) {\n        return [val];\n      }\n      return val;\n    }\n  }\n});\n\nTemplate.afBootstrapDateTimePicker.helpers({\n    atts: function addFormControlAtts() {\n      var atts = _.clone(this.atts);\n      // Add bootstrap class\n      atts = AutoForm.Utility.addClass(atts, \"form-control\");\n      return atts;\n    }\n  });\n\nTemplate.afBootstrapDateTimePicker.rendered = function () {\n  var $input = this.$('input');\n  var data = this.data;\n\n  // instanciate datepicker\n  $input.datetimepicker(data.atts.datePickerOptions);\n\n  // set and reactively update values\n  this.autorun(function () {\n    var data = Template.currentData();\n\n    // set field value\n    if (data.value instanceof Date) {\n      // $input.datepicker('setUTCDate', data.value);\n      $input.data(\"DateTimePicker\").setDate(data.value);\n    } else if (typeof data.value === \"string\") {\n      // $input.datepicker('update', data.value);\n      $input.data(\"DateTimePicker\").setDate(moment(data.value).toDate());\n    }\n\n    // set start date if there's a min in the schema\n    if (data.min instanceof Date) {\n      // datepicker plugin expects local Date object, so convert UTC Date object to local\n      var startDate = utcToLocal(data.min);\n      // $input.datepicker('setStartDate', startDate);\n      $input.data(\"DateTimePicker\").setMinDate(startDate);\n    }\n\n    // set end date if there's a max in the schema\n    if (data.max instanceof Date) {\n      // datepicker plugin expects local Date object, so convert UTC Date object to local\n      var endDate = utcToLocal(data.max);\n      // $input.datepicker('setEndDate', endDate);\n      $input.data(\"DateTimePicker\").setMinDate(endDate);\n    }\n  });\n\n};\n\nTemplate.afBootstrapDateTimePicker.destroyed = function () {\n  // this.$('input').datepicker('remove');\n  this.$('input').data('DateTimePicker').destroy();\n};\n\nfunction utcToLocal(utcDate) {\n  var localDateObj = new Date();\n  localDateObj.setDate(utcDate.getUTCDate());\n  localDateObj.setMonth(utcDate.getUTCMonth());\n  localDateObj.setFullYear(utcDate.getUTCFullYear());\n  localDateObj.setHours(0);\n  localDateObj.setMinutes(0);\n  localDateObj.setSeconds(0);\n  localDateObj.setMilliseconds(0);\n  return localDateObj;\n}\n","/*!\n * Bootstrap v3.3.1 (http://getbootstrap.com)\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\n\n/*!\n * Generated using the Bootstrap Customizer (http://getbootstrap.com/customize/?id=81631ba40c2459b10edf)\n * Config saved to config.json and https://gist.github.com/81631ba40c2459b10edf\n */\nif (typeof jQuery === 'undefined') {\n  throw new Error('Bootstrap\\'s JavaScript requires jQuery')\n}\n+function ($) {\n  var version = $.fn.jquery.split(' ')[0].split('.')\n  if ((version[0] < 2 && version[1] < 9) || (version[0] == 1 && version[1] == 9 && version[2] < 1)) {\n    throw new Error('Bootstrap\\'s JavaScript requires jQuery version 1.9.1 or higher')\n  }\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: collapse.js v3.3.1\n * http://getbootstrap.com/javascript/#collapse\n * ========================================================================\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // COLLAPSE PUBLIC CLASS DEFINITION\n  // ================================\n\n  var Collapse = function (element, options) {\n    this.$element      = $(element)\n    this.options       = $.extend({}, Collapse.DEFAULTS, options)\n    this.$trigger      = $(this.options.trigger).filter('[href=\"#' + element.id + '\"], [data-target=\"#' + element.id + '\"]')\n    this.transitioning = null\n\n    if (this.options.parent) {\n      this.$parent = this.getParent()\n    } else {\n      this.addAriaAndCollapsedClass(this.$element, this.$trigger)\n    }\n\n    if (this.options.toggle) this.toggle()\n  }\n\n  Collapse.VERSION  = '3.3.1'\n\n  Collapse.TRANSITION_DURATION = 350\n\n  Collapse.DEFAULTS = {\n    toggle: true,\n    trigger: '[data-toggle=\"collapse\"]'\n  }\n\n  Collapse.prototype.dimension = function () {\n    var hasWidth = this.$element.hasClass('width')\n    return hasWidth ? 'width' : 'height'\n  }\n\n  Collapse.prototype.show = function () {\n    if (this.transitioning || this.$element.hasClass('in')) return\n\n    var activesData\n    var actives = this.$parent && this.$parent.find('> .panel').children('.in, .collapsing')\n\n    if (actives && actives.length) {\n      activesData = actives.data('bs.collapse')\n      if (activesData && activesData.transitioning) return\n    }\n\n    var startEvent = $.Event('show.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    if (actives && actives.length) {\n      Plugin.call(actives, 'hide')\n      activesData || actives.data('bs.collapse', null)\n    }\n\n    var dimension = this.dimension()\n\n    this.$element\n      .removeClass('collapse')\n      .addClass('collapsing')[dimension](0)\n      .attr('aria-expanded', true)\n\n    this.$trigger\n      .removeClass('collapsed')\n      .attr('aria-expanded', true)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse in')[dimension]('')\n      this.transitioning = 0\n      this.$element\n        .trigger('shown.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    var scrollSize = $.camelCase(['scroll', dimension].join('-'))\n\n    this.$element\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])\n  }\n\n  Collapse.prototype.hide = function () {\n    if (this.transitioning || !this.$element.hasClass('in')) return\n\n    var startEvent = $.Event('hide.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    var dimension = this.dimension()\n\n    this.$element[dimension](this.$element[dimension]())[0].offsetHeight\n\n    this.$element\n      .addClass('collapsing')\n      .removeClass('collapse in')\n      .attr('aria-expanded', false)\n\n    this.$trigger\n      .addClass('collapsed')\n      .attr('aria-expanded', false)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.transitioning = 0\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse')\n        .trigger('hidden.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    this.$element\n      [dimension](0)\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)\n  }\n\n  Collapse.prototype.toggle = function () {\n    this[this.$element.hasClass('in') ? 'hide' : 'show']()\n  }\n\n  Collapse.prototype.getParent = function () {\n    return $(this.options.parent)\n      .find('[data-toggle=\"collapse\"][data-parent=\"' + this.options.parent + '\"]')\n      .each($.proxy(function (i, element) {\n        var $element = $(element)\n        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)\n      }, this))\n      .end()\n  }\n\n  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {\n    var isOpen = $element.hasClass('in')\n\n    $element.attr('aria-expanded', isOpen)\n    $trigger\n      .toggleClass('collapsed', !isOpen)\n      .attr('aria-expanded', isOpen)\n  }\n\n  function getTargetFromTrigger($trigger) {\n    var href\n    var target = $trigger.attr('data-target')\n      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') // strip for ie7\n\n    return $(target)\n  }\n\n\n  // COLLAPSE PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.collapse')\n      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data && options.toggle && option == 'show') options.toggle = false\n      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.collapse\n\n  $.fn.collapse             = Plugin\n  $.fn.collapse.Constructor = Collapse\n\n\n  // COLLAPSE NO CONFLICT\n  // ====================\n\n  $.fn.collapse.noConflict = function () {\n    $.fn.collapse = old\n    return this\n  }\n\n\n  // COLLAPSE DATA-API\n  // =================\n\n  $(document).on('click.bs.collapse.data-api', '[data-toggle=\"collapse\"]', function (e) {\n    var $this   = $(this)\n\n    if (!$this.attr('data-target')) e.preventDefault()\n\n    var $target = getTargetFromTrigger($this)\n    var data    = $target.data('bs.collapse')\n    var option  = data ? 'toggle' : $.extend({}, $this.data(), { trigger: this })\n\n    Plugin.call($target, option)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: transition.js v3.3.1\n * http://getbootstrap.com/javascript/#transitions\n * ========================================================================\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)\n  // ============================================================\n\n  function transitionEnd() {\n    var el = document.createElement('bootstrap')\n\n    var transEndEventNames = {\n      WebkitTransition : 'webkitTransitionEnd',\n      MozTransition    : 'transitionend',\n      OTransition      : 'oTransitionEnd otransitionend',\n      transition       : 'transitionend'\n    }\n\n    for (var name in transEndEventNames) {\n      if (el.style[name] !== undefined) {\n        return { end: transEndEventNames[name] }\n      }\n    }\n\n    return false // explicit for ie8 (  ._.)\n  }\n\n  // http://blog.alexmaccaw.com/css-transitions\n  $.fn.emulateTransitionEnd = function (duration) {\n    var called = false\n    var $el = this\n    $(this).one('bsTransitionEnd', function () { called = true })\n    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n    setTimeout(callback, duration)\n    return this\n  }\n\n  $(function () {\n    $.support.transition = transitionEnd()\n\n    if (!$.support.transition) return\n\n    $.event.special.bsTransitionEnd = {\n      bindType: $.support.transition.end,\n      delegateType: $.support.transition.end,\n      handle: function (e) {\n        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n      }\n    }\n  })\n\n}(jQuery);\n"]}